<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1">
  
  <title>Checking out a previous version &mdash; GeoGig 1.2 User Manual</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,700italic,800italic,300,700,600,800,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Cantarell:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../_static/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/print.css" type="text/css" media="print" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/offcanvas.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
      <link rel="index" title="Index" href="../genindex.html" />
      <link rel="search" title="Search" href="../search.html" />
      <link rel="top" title="GeoGig 1.2 User Manual" href="../index.html" />
      <link rel="up" title="Data and commits" href="index.html" />
      <link rel="next" title="Committing changes" href="committing.html" />
      <link rel="prev" title="Staging data" href="adding.html" />
</head>
<body class="data/checkout">
    <div id="blacktop"></div>
    <header id="masthead">
      <div class="navbar">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://geogig.org"><h1>GeoGig</h1></a>
          </div>
          <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav">
              <li><a href="http://geogig.org/#install">Get Started</a></li>
              <li><a href="http://geogig.org/docs/index.html">Documentation</a></li>
              <li><a href="https://github.com/locationtech/geogig">On Github</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </header>

    <section class="subheading hidden-xs">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <p class="byline">A Tool for Geospatial Data Management</p>
          </div>
        </div>
      </div>
    </section>
    <a name="top"></a>

 <div id="main">
    <div class="wrap selfclear">
      <div id="content">
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-right">
          <div class="col-md-8">
            <div class="row pull-right">
             <div class="visible-sm visible-xs" id="menu-btn">
                <button class="btn btn-blue btn-sm"type="button" data-toggle="offcanvas">
                  <span class="btn-text active">Menu &rarr;</span>
                  <span class="btn-back">&larr; Back</span>
                </button>
              </div>
            </div>
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoGig 1.2 User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Data and commits</a> &raquo;</li>
  <li>Checking out a previous version</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../genindex.html" title="General Index"
       accesskey="I">index</a></li>
  <li>
    <a href="committing.html" title="Committing changes"
       accesskey="N">next</a>|</li>
  <li>
    <a href="adding.html" title="Staging data"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="checking-out-a-previous-version">
<span id="checking-out"></span><h1>Checking out a previous version<a class="headerlink" href="#checking-out-a-previous-version" title="Permalink to this headline">¶</a></h1>
<p>All the versions stored in a GeoGig repository are available and can be used. We already know how to refer to an object from a previous version by using the reference syntax explained in <a class="reference internal" href="referencing.html#referencing"><span class="std std-ref">Referencing a GeoGig element</span></a>. That allows us to describe that element or to use it for a certain operation.</p>
<p>A different way of recovering a given version of the data kept in the repository is to bring all the changes to the working tree, so we can actually work on that data. Notice that this could be used, for instance, to export that data and make that version of the repository available for an external application. However, you can export from a given commit without having to checkout and then export from the working tree, as was explained in the <a class="reference internal" href="exporting.html#exporting"><span class="std std-ref">Exporting from a GeoGig repository</span></a> section.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">add</span></code> and <code class="docutils literal notranslate"><span class="pre">commit</span></code> commands <em>move</em> the data from the working tree into the staging area, and from there into the repository database. That same data can go the opposite direction, from the repository database to the working tree. In that manner, the index is skipped and the working tree is updated directly from the repository database.</p>
<p>To checkout a past version of the repository data, the <code class="docutils literal notranslate"><span class="pre">checkout</span></code> command is used, just in the same way as we use it to move from one branch to another. Instead of a branch name, you must supply the name of a commit (its ID) and data corresponding to that commit will be put in the working tree. Since the data in the working tree will be overwritten, this command cannot be run when the working tree has unstaged changes.</p>
<p>The following is a valid command that will update the version in the working tree from the current one to the snapshot corresponding to 5 commits ago.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geogig checkout HEAD~5
</pre></div>
</div>
<p>Apart from updating the working tree, the <code class="docutils literal notranslate"><span class="pre">checkout</span></code> command updates the HEAD <code class="docutils literal notranslate"><span class="pre">reference</span></code>, which will point to the commit from which the data in the working tree was taken.</p>
<p>You can now export the current working tree to a shapefile and external applications will be able to use the old version of the data, which you have exported and is now in that shapefile.</p>
<p>To go back to the most recent state, where you were before checking out the previous version, you must checkout the latest commit on the current branch. Notice that <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> is not pointing to that commit, now, so you will have to use the name of the current branch. Assuming you are in the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch, the following will update the working tree to the latest version and change the <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> reference to the corresponding commit.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geogig checkout master
</pre></div>
</div>
<div class="section" id="resetting-to-a-previous-commit">
<h2>Resetting to a previous commit<a class="headerlink" href="#resetting-to-a-previous-commit" title="Permalink to this headline">¶</a></h2>
<p>When you perform a checkout using a commit ID, the <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> reference will point directly to the commit. Usually, <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> is, itself, a symbolic reference and points to the tip of a given branch. If we are in <code class="docutils literal notranslate"><span class="pre">master</span></code>, then <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> points to wherever <code class="docutils literal notranslate"><span class="pre">master</span></code> is pointing. If there is a commit, the tip of the branch changes and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> changes automatically.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> is pointing to a commit directly, it is said to be in a <em>detached</em> state. You should not make commits in that state, as they will not be added to the tip of your current branch.</p>
<p>If what you want to revert to a previous snapshot of the current branch and start working from there, you should use the <code class="docutils literal notranslate"><span class="pre">reset</span></code> command instead of <code class="docutils literal notranslate"><span class="pre">checkout</span></code>. The <code class="docutils literal notranslate"><span class="pre">reset</span></code> command will move the tip of the current branch (the <code class="docutils literal notranslate"><span class="pre">master</span></code> referenced in this case) back to the specified commit and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> will follow along. Now you can start your work, which will be added on top of the commit to which you have reset the branch.</p>
<p>To reset to the commit 5 commits ago, use the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ geogig reset HEAD~5 --hard
</pre></div>
</div>
<p>That will update all three areas in GeoGig (working tree, staging area and database) to the specified commit. This is known as a hard reset. You can also perform a mixed reset (only updates the staging area and database, but not the working tree, with the <code class="docutils literal notranslate"><span class="pre">--mixed</span></code> option) or a soft reset (only updates the database with the <code class="docutils literal notranslate"><span class="pre">--soft</span></code> option).</p>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="adding.html" title="previous chapter">Staging data</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="committing.html" title="next chapter">Committing changes</a></div>
      </div>
      <p class="centered-text"><a href="#top"><img src="../_static/arrow_up.png" alt="back to top"/></a></p>
      </div><!-- /#content> -->
  <div id="sidebar" class="sidebar-offcanvas contrast col-sm-4 sidebar-offcanvas" id="sidebar" role="navigation">

    <div>
         <form id="quick-search" action="search.html" method="get" style="width: 100%;">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
          </fieldset>
        </form>


        <div class="btn-group-vertical" id="docs_toc">
          <a class="btn btn-default" href="/docs/">User Manual</a>
          <a class="btn btn-default" href="/technical/">Technical Manual</a>
          <a class="btn btn-default" href="/manpages/">Man Pages</a>
          <a class="btn btn-default" href="/workshop/">Workshop</a>
          <a class="btn btn-default" href="/upgrade/">Upgrading</a>
      </div>
      <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">Checking out a previous version</a><ul>
<li><a class="reference internal" href="#resetting-to-a-previous-commit">Resetting to a previous commit</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section continue_reading">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="adding.html" title="previous chapter">Staging data</a></li>
            <li>Next: <a href="committing.html" title="next chapter">Committing changes</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/data/checkout.rst.txt">Show Source</a></li>
        </ul>
        </div>
        <div class="section">
          <h3>License</h3>
          <p>GeoGig is published using the <a href="https://github.com/locationtech/geogig/blob/master/LICENSE.txt">Eclipse Distribution License</a> (EDL). This is an open source initiative approved BSD-3 Clause license.</p>
          
          <p>This documentation is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. Page template includes work by the JQuery Foundation (<a href="https://github.com/jquery/jquery/blob/master/LICENSE.txt">MIT License</a>).</p>
        </div>

  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div>
</div>

</div><!-- /#main -->
    <footer>
      <div class="container">
        <div class="row">
          <div class=""><p class="repo-owner"><a href="https://github.com/locationtech/geogig">GeoGig</a> available on LocationTech. Website maintained by <a href="https://github.com/boundlessgeo"><img src="../_static/Boundless_Logo.png" alt="Boundless"></a></p></div>
        </div>
      </div>
    </footer>


  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/jquery-migrate-min.js"></script>
  <script type="text/javascript" src="../_static/bootstrap.min.js" ></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
  <script>
      $(document).ready(function() {

      $('[data-toggle=offcanvas]').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
      $('.list-group-item').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
    });
  </script>
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3879903-19']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  </body>
</html>
